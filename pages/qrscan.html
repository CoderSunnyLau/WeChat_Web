<!DOCTYPE html>
<html>
<head>
	<title>QR_Scan</title>
	<meta charset="utf-8">
	<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
	<script src="http://libs.baidu.com/jquery/1.10.2/jquery.min.js"></script>
</head>
<body>
	<div>test</div>
	<script type="text/javascript">
	var randomString = function(len) {
		len = len || 32;
		var $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';    /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/
		var maxPos = $chars.length;
		var pwd = '';
		for (var i = 0; i < len; i++) {
			pwd += $chars.charAt(Math.floor(Math.random() * maxPos));
		}
		return pwd;
	};
	
	var access_token = localStorage.getItem("access_token");
	if(!access_token){
		$.ajax({
			url:"https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=ACCESS_TOKEN&type=jsapi",
			success:function(res){
				console.log(res);
				localStorage.setItem("access_token", JSON.stringfy(res));
			}
		});
	}else{
		console.log(access_token);
	}
	wx.config({
		debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
		appId: "wxb43034c532965146", // 必填，公众号的唯一标识
		timestamp: new Date().getTime(), // 必填，生成签名的时间戳
		nonceStr: randomString(20), // 必填，生成签名的随机串
		signature: "",// 必填，签名，见附录1
		jsApiList: ["scanQRCode"] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
	});
	</script>
</body>
</html>